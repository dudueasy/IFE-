<!DOCTYPE html>
<html>

<head>
    <title>IFE JavaScript Task 01</title>
    <meta charset="UTF-8">
</head>

<body>
    <h3>城市列表</h3>
    <ul id="cityList"></ul>
    <h3>污染城市列表</h3>

    <label for="index">空气质量大于：</label>
    <input type="number" min="20" max="100" id="index">
    <button id="button">筛选</button>

    <ul id="aqi_list">

    </ul>

    <script>
        var aqiData = [
            ["Beijing", 90],
            ["Shanghai", 50],
            ["Fuzhou", 10],
            ["Guangzhou", 50],
            ["Chengdu", 90],
            ["Xian", 100]
        ];

        window.onload = function() {
            for (i = 0; i < aqiData.length; i++) {
                var data = aqiData[i];
                var ul = document.getElementById("cityList");
                var li = document.createElement("li");
                li.innerHTML = data[0];
                ul.appendChild(li);
            }
        }


        var button = document.getElementById("button");
        button.onclick = filterCities;

        function filterCities() {
            var ul = document.getElementById("aqi_list");
            ul.innerHTML = "";
            var index = document.getElementById("index").value;

            //for loop 
            for (i = 0; i < aqiData.length; i++) {
                var array = aqiData[i];
                if (array[1] > index) {
                    showCity(array[0]);
                }
            }
            //show cities that meet the judge condition
            function showCity(cityName) {
                var li = document.createElement("li");
                li.innerHTML = cityName;
                ul.appendChild(li);

            }
        }
    </script>
</body>

</html>
